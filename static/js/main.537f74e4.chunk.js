(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{106:function(e,t,a){e.exports=a(122)},111:function(e,t,a){},116:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),l=a.n(s),o=(a(111),a(49)),i=a(76),c=a.n(i),u=a(33),m=a(85),d=a(52),p=a(70),h=a(16),g=a(179),f=(a(116),a(31)),b=a(45),v=a(164),E=a(24),k=a(5),y=a(183),O=a(169),j=a(170),w=a(173),N=a(167),T=a(57),S=a(172),x=a(171),_=a(89),C=a.n(_),I=a(91),U=a.n(I),M=a(90),D=a.n(M),B=a(174),z=a(175),J=a(176),A=a(92),F=a.n(A),H=Object(v.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(f.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),q=[{title:"home",link:"/react_todo"},{title:"users",link:"/users"},{title:"about",link:"/about"}],L=function(){var e,t,a=H(),n=Object(E.a)(),s=r.a.useState(!1),l=Object(d.a)(s,2),o=l[0],i=l[1];return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,null),r.a.createElement(O.a,{position:"fixed",className:Object(k.a)(a.appBar,Object(f.a)({},a.appBarShift,o))},r.a.createElement(j.a,null,r.a.createElement(x.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(k.a)(a.menuButton,Object(f.a)({},a.hide,o))},r.a.createElement(C.a,null)),r.a.createElement(T.a,{variant:"h6",noWrap:!0},"Menu"))),r.a.createElement(y.a,{variant:"permanent",className:Object(k.a)(a.drawer,(e={},Object(f.a)(e,a.drawerOpen,o),Object(f.a)(e,a.drawerClose,!o),e)),classes:{paper:Object(k.a)((t={},Object(f.a)(t,a.drawerOpen,o),Object(f.a)(t,a.drawerClose,!o),t))}},r.a.createElement("div",{className:a.toolbar},r.a.createElement(x.a,{onClick:function(){i(!1)}},"rtl"===n.direction?r.a.createElement(D.a,null):r.a.createElement(U.a,null))),r.a.createElement(S.a,null),r.a.createElement(w.a,null,q.map((function(e,t){return r.a.createElement(B.a,{button:!0,key:t},r.a.createElement(z.a,null,r.a.createElement(b.b,{exact:!0,to:e.link,className:a.link},r.a.createElement(F.a,null))),r.a.createElement(J.a,{primary:e.title}))})))))},R=Object(v.a)((function(e){return{root:{marginTop:70}}}));function W(){var e=R();return r.a.createElement("h1",{className:e.root},"home page")}var K=a(180),P=a(177),G=a(182),Z=a(94),Q=a.n(Z),X=a(93),Y=a.n(X),$=Object(v.a)((function(e){return{button:{margin:8},li:{display:"flex",justifyContent:"space-between",textAlign:"center"}}}));var V=function(e){var t=e.users,a=e.deleteUser,n=$();return console.log(t),t.map((function(e,t){return r.a.createElement("li",{className:n.li,key:t},r.a.createElement(B.a,{button:!0,className:n.li},r.a.createElement(b.b,{className:"nav-link",to:"/users/"+parseInt(e.id_user)},r.a.createElement("span",null,t+1)," \xa0",r.a.createElement(Y.a,null),r.a.createElement(J.a,{primary:e.user_name}),r.a.createElement(J.a,{primary:e.time}),r.a.createElement("span",null," you have \xa0",e.countTask," tasks"))),r.a.createElement(P.a,{onClick:function(){a(t)},variant:"contained",color:"secondary",className:n.button,startIcon:r.a.createElement(Q.a,null)},"Delete"))}))},ee=a(75),te=a.n(ee),ae=Object(v.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"},header:{marginTop:70},textField:{width:"85%",margin:8},button:{margin:e.spacing(1)}}}));var ne=function(e){var t=ae();return console.log("================render ===== users",e),r.a.createElement("div",{className:t.header},r.a.createElement(G.a,{icon:!1,severity:"info",className:t.root},r.a.createElement(te.a,null)," \xa0",0!==Object.keys(e.users).length?r.a.createElement(r.a.Fragment,null,"\xa0 ",r.a.createElement("p",null,"all users")," \xa0 \xa0",r.a.createElement("span",null,Object.keys(e.users).length)):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"not users add user"))),r.a.createElement("div",{className:t.root},r.a.createElement(K.a,{value:e.value,onChange:function(t){e.changeTitle(t.target.value)},onKeyUp:function(t){e.keyHandle(t)},id:"standard-full-width",label:"Enter user",className:t.textField,placeholder:"name user",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text"}),r.a.createElement(P.a,{onClick:e.addUser,variant:"contained",className:t.button},"ADD USER")),r.a.createElement("ul",null,r.a.createElement(V,{users:e.users,deleteUser:e.deleteUser})))},re=a(68),se=a(69),le=a(72),oe=a(71);function ie(e){var t=e.title,a=e.toggleModal,n=e.changeTitlebyModal,s=e.value,l=e.editTask,o=e.id_user,i=e.id_task;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},t),r.a.createElement("button",{type:"button",className:"close",onClick:a},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{value:s,onChange:function(e){n(e.target.value)},type:"text",className:"form-control"})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:a,type:"button",className:"btn btn-secondary"},"Close"),r.a.createElement("button",{onClick:function(){l(o,i)},type:"button",className:"btn btn-primary"},"Save changes")))))}var ce=function(e){Object(le.a)(a,e);var t=Object(oe.a)(a);function a(){var e;Object(re.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modalShow:!1},e}return Object(se.a)(a,[{key:"toggleModal",value:function(){this.setState({modalShow:!this.state.modalShow})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-group-item  userTasksLi"},r.a.createElement("div",{className:"list-item"},r.a.createElement("i",{className:"fas fa-thumbtack"}),r.a.createElement("span",null,this.props.title)),r.a.createElement("div",{className:"list-item"},r.a.createElement("span",null,this.props.time)),r.a.createElement("div",{className:"list-item"},r.a.createElement("button",{onClick:this.toggleModal.bind(this),type:"button",className:"btn btn-outline-warning"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{onClick:function(){e.props.deleteTask(e.props.id_user,e.props.id_task,e.props.id)},type:"button",className:"btn btn-outline-danger"},r.a.createElement("i",{className:"fas fa-trash-alt"})),this.state.modalShow?r.a.createElement(ie,{id_user:this.props.id_user,id_task:this.props.id_task,title:this.props.title,value:this.props.value,editTask:this.props.editTask,changeTitlebyModal:this.props.changeTitlebyModal,toggleModal:this.toggleModal.bind(this)}):null))}}]),a}(n.Component),ue=function(e){Object(le.a)(a,e);var t=Object(oe.a)(a);function a(){var e;Object(re.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tasks:[]},e}return Object(se.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a=this;return console.log("==============UserPersonalTasks render user tasks"),Object.keys(this.props.users).length&&(e=(t=this.props.users.find((function(e){return e.id_user===parseInt(a.props.history.match.params.id)}))).tasks.map((function(e,t){return r.a.createElement(ce,{key:t,id:t,id_user:parseInt(a.props.history.match.params.id),id_task:e.id_task,value:a.props.valueTodo,title:e.title,time:e.time_task,editTask:a.props.editTask,changeTitlebyModal:a.props.changeTitlebyModal,deleteTask:a.props.deleteTask})}))),r.a.createElement("div",null,r.a.createElement("div",{className:"alert alert-primary",role:"alert"},void 0===e?r.a.createElement("h1",null,"at firs add user"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t.user_name),r.a.createElement("p",null,"add tasks ",t.tasks.length))),r.a.createElement("div",{className:"input-group col-lg-6"},r.a.createElement("input",{value:this.props.valueUser,onKeyUp:function(e){a.props.keyHandle(e,parseInt(a.props.history.match.params.id),t.tasks.length)},onChange:function(e){a.props.changeTitleUserTask(e.target.value)},type:"text",className:"form-control"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:function(){a.props.addTodoTaskUser(parseInt(a.props.history.match.params.id),t.tasks.length)},disabled:0===Object.keys(this.props.users).length,className:"btn btn-secondary",type:"button"},"add task"))),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush"},e," ")))}}]),a}(r.a.Component),me=a(178),de=Object(v.a)((function(e){return{root:{marginTop:70}}}));function pe(e){var t=de();return r.a.createElement("div",{className:t.root},r.a.createElement(G.a,{severity:"info"},r.a.createElement(me.a,null),"\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0437\u0430\u043c\u0435\u0442\u043e\u043a \xa0 \xa0",r.a.createElement("strong",null,"\u0432\u0435\u0440\u0441\u0438\u044f \xa01.1.1")))}var he=function(){var e=JSON.parse(localStorage.getItem("users"))||[],t=Object(n.useState)(e),a=Object(d.a)(t,2),s=a[0],l=a[1],i=Object(n.useState)({value:""}),f=Object(d.a)(i,2),b=f[0],v=f[1],E=Object(n.useState)({value:""}),k=Object(d.a)(E,2),y=k[0],O=k[1];Object(n.useEffect)((function(){console.log("use effect"),j()}),[]);var j=function(){var e=Object(m.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-quize-46f17.firebaseio.com/users.json");case 2:if(a=e.sent,n=Object(u.a)(s),console.log(n),!a.ok){e.next=15;break}return e.next=8,a.json();case 8:r=e.sent,console.log("getUsersFromFairbase",r),r&&Object.values(r).forEach((function(e){n.find((function(t){t.id!==e.id&&n.push(e)}))})),localStorage.setItem("users",JSON.stringify(n)),l(n),e.next=16;break;case 15:alert("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: "+a.status);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){p.a.database().ref("users/"+e.id_user).set(e)},N=function(){var e={id_user:Date.now()+1,time:(new Date).toString().split("G")[0],user_name:b.value,completed:!1,tasks:[],countTask:0};if(b.value.length>2){var t=Object(u.a)(s);t.push(e),localStorage.setItem("users",JSON.stringify(t)),l(t),v({value:""}),w(e)}},T=function(e,t,a){console.log("ddddddd",e.keyCode),13===e.keyCode&&b.value.length>2&&(N(),t&&x(t,a))},S=function(e,t){console.log(e,t);var a=Object(u.a)(s),n=Object(o.a)({},a[e]),r=Object(u.a)(a[e].tasks);console.log(r);var i=r.map((function(e){return e.id_task===t&&(e.title=y.value),e}));r=i,n.tasks=r,a[e]=n,l(Object(o.a)({},a)),localStorage.setItem("users",JSON.stringify(Object(o.a)({},a))),O({value:""})},x=function(e,t){if(b.value.length>2){var a=Object(u.a)(s),n=a.find((function(t,a){return t.id_user===e}));console.log("user===================",n),console.log("user===================",a),n.countTask=t+1;var r=Object(u.a)(n.tasks),o=new Date;r.push({id_task:(new Date).getTime()+1,title:b.value,time_task:"".concat((new Date).toLocaleDateString()," :").concat(o.getHours(),":").concat(o.getMinutes())}),n.tasks=r,l(a),localStorage.setItem("users",JSON.stringify(a)),v({value:""}),w(n)}},_=function(e){console.log("vlaue",e),v({value:e})},C=function(e){O({value:e})},I=function(e){var t=Object(u.a)(s);t.splice(e,1),l(t)},U=function(e,t,a){console.log(a);var n=Object(u.a)(s),r=n.find((function(t){return t.id_user===e}));r.tasks.splice(a,1),n.push(r);var o=n.filter((function(e,t){return n.indexOf(e)===t}));console.log(n),console.log(r),l(o),localStorage.setItem("users",JSON.stringify(o))};return r.a.createElement(g.a,{maxWidth:"md"},r.a.createElement(L,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/react_todo",component:W}),r.a.createElement(h.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(ne,{addUser:N,keyHandle:T,changeTitle:_,users:s,value:b.value,deleteUser:I})}}),r.a.createElement(h.b,{path:"/users/:id",render:function(e){return r.a.createElement(ue,{valueUser:b.value,valueTodo:y.value,history:e,users:s,keyHandle:T,addTodoTaskUser:x,editTask:S,changeTitleUserTask:_,changeTitlebyModal:C,deleteTask:U})}}),r.a.createElement(h.b,{path:"/about",component:pe}),r.a.createElement(h.a,{to:"/react_todo"}),r.a.createElement(h.b,{render:function(){return r.a.createElement("h1",{style:{color:"red"}}," 404 not found page...")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.initializeApp({apiKey:"AIzaSyB-hPQZWluKy43wUjA7Zi6k5MpDR4ap7RY",authDomain:"react-quize-46f17.firebaseapp.com",databaseURL:"https://react-quize-46f17.firebaseio.com",projectId:"react-quize-46f17",storageBucket:"react-quize-46f17.appspot.com",messagingSenderId:"822369206100",appId:"1:822369206100:web:eb939cd61dc1e529cbd2c1"});var ge=r.a.createElement(b.a,null,r.a.createElement(he,null));l.a.render(ge,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[106,1,2]]]);
//# sourceMappingURL=main.537f74e4.chunk.js.map